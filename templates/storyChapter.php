<?php
    require_once("include/header.php");
?>

<div class="story">
                <div class="story__info">
                    <img class="story__image" src="http://placehold.it/256x128" alt=""/>
                    <h2 class="story__title">Example Story</h2>
                    <h3 class="story__author">By <a href="#">ExampleUser</a></h3>
                </div>
                <div class="story__controls">
                    <div class="story__formatting">
                        <div id="fontSizeOption" title="Change text size"><i class="fa fa-text-height"></i>
                            <div class="story__formatting--fontSize">
                                <input type="range" min="8" max="32" step="2" value="16" />
                                <span>16px</span>
                            </div>
                        </div><!-- Remove space between inline elements
                     --><div id="fontOption" title="Change font"><i class="fa fa-font"></i>
                            <div class="story__formatting--font">
                                <select>
                                    <option value="serif">Serif</option>
                                    <option value="sans-serif">Sans-Serif</option>
                                    <option value="monospace">Monospace</option>
                                    <option value="cursive">Cursive</option>
                                    <option value="fantasy">Fantasy</option>
                                </select>
                                <i class="fa fa-angle-down"></i>
                            </div>
                         </div><!-- Remove space between inline elements
                     --><div class="story__top" title="Jump to top"><i class="fa fa-arrow-up"></i></div>
                    </div>
                    <div class="story__statistics">
                        <div class="story__views">12,345 views</div>
                        <div class="story__likes"><i class="fa fa-thumbs-up"></i><span class="likeCount">300</span></div>
                        <div class="story__rating"><span class="story__rating--green"></span><span class="story__rating--red"></span></div>
                        <div class="story__dislikes"><i class="fa fa-thumbs-down"></i><span class="dislikeCount">12</span></div>
                    </div>
                </div>
                <div class="story__controls--placeholder"></div>
                <div class="story__text">
                    <h3>Chapter 2 - The Example Chapter</h3>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime labore tenetur fugit inventore minima quidem mollitia eveniet blanditiis rerum cupiditate fugiat ullam amet ut dolorum iusto, expedita praesentium hic ipsa!</span>
                        <span>Et dolores amet adipisci porro quam consequuntur repellat voluptate rem iste fugit natus, sed impedit labore est officiis aliquam accusantium modi, ullam velit necessitatibus in eligendi dolor numquam veniam. Hic!</span>
                        <span>Cumque alias, eveniet temporibus qui neque voluptas laudantium nisi? Vero beatae, quos soluta voluptas ab odit minus in, ipsa magnam dolorum labore eveniet quo perspiciatis laudantium pariatur sit accusantium. Cum.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. In excepturi, sed officia soluta provident quasi corrupti. Tempore maiores quam ipsam omnis ratione pariatur dolore sapiente libero, quos eum sint asperiores!</span>
                        <span>Sed dolor ullam laborum, fugit, molestias excepturi voluptates exercitationem id nihil quo similique! Eaque perferendis beatae quo itaque, ex quam maxime delectus veritatis at impedit saepe ipsum atque. Sequi, odit.</span>
                        <span>Atque illo adipisci vero culpa cum, odio est asperiores laudantium quaerat vitae repudiandae quisquam suscipit totam recusandae maiores beatae, nulla repellat neque. Consequuntur tempora numquam, quibusdam molestiae asperiores ullam quidem.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deserunt laudantium accusantium hic quae, vero quaerat ducimus aut voluptatum tempore eos explicabo optio soluta at pariatur consequatur nihil magnam. Esse, nihil.</span>
                        <span>Dolorem fuga pariatur recusandae expedita laudantium. Ipsum expedita sunt aliquam dolore voluptatibus perferendis facilis tenetur explicabo quaerat, eaque iure qui unde deleniti suscipit odit ad minima iste, ut sed voluptate!</span>
                        <span>Veritatis quidem provident magni, error exercitationem neque deleniti eaque reprehenderit consequuntur voluptas soluta explicabo numquam vel labore tenetur quisquam fugiat ipsam expedita at amet, adipisci deserunt! Nesciunt, quia, adipisci! Impedit.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia nostrum ratione, quia cupiditate odio tempore fuga quidem voluptatem incidunt dicta tempora veniam, dolorem officiis atque aperiam facere, labore quasi culpa?</span>
                        <span>Nesciunt repellendus similique, magnam commodi eum dignissimos in reiciendis non dolorum ut quas voluptatum ex itaque rem, consequatur vero beatae id. Nulla quos dolorem expedita quae commodi explicabo accusamus aperiam?</span>
                        <span>Nihil saepe tempore, consequuntur laborum esse quod adipisci nostrum. Quis atque pariatur perspiciatis? Obcaecati qui esse corporis, consequatur, quae ipsa, nihil dolores quia fugit tempore deserunt optio perspiciatis, sapiente quo?</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laudantium, molestiae inventore iusto, nam repudiandae dolor nihil optio ex voluptatem enim nemo hic harum repellat eveniet ipsam illo autem eos. Dolorum.</span>
                        <span>Aut dolorem quis provident velit explicabo delectus omnis accusantium debitis laudantium excepturi quidem officia blanditiis hic vitae saepe quae maiores, dolore maxime culpa doloribus ut possimus quam animi veniam. Quod.</span>
                        <span>Consectetur cupiditate voluptas eveniet ratione earum nobis vel corrupti ducimus repellendus reprehenderit laborum quo ipsam nisi nostrum itaque aliquid consequuntur quod et quisquam, beatae unde vitae. Odit, ducimus eum quibusdam.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati et iste nisi assumenda animi, rerum vero ex voluptatem ullam ratione deleniti quo saepe explicabo, enim, molestiae fugiat placeat pariatur! Aperiam!</span>
                        <span>Quasi, consequatur, vitae? Fugit facere deleniti iste incidunt quibusdam, voluptatem quis quam ratione maiores, aperiam esse repellat aliquam porro suscipit inventore quisquam ad ut doloribus quaerat possimus, illum exercitationem. Corrupti.</span>
                        <span>Assumenda porro reiciendis soluta. Quia nihil quis, id officiis repellat sunt ab ipsum molestias cumque beatae nemo ducimus, eum. Beatae repudiandae nulla, omnis similique tenetur id distinctio, sint voluptatum iste?</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis velit cupiditate tempore voluptatem corrupti ab eum distinctio, tenetur quaerat natus iste nemo. Commodi modi blanditiis aliquam voluptates perspiciatis, rem ex.</span>
                        <span>Eaque ad iusto reiciendis asperiores iure minus deserunt officiis saepe, omnis, repellat molestiae illo rem atque, delectus maxime nemo sit sint. Aut reprehenderit laudantium, ipsum laboriosam tenetur sed optio commodi?</span>
                        <span>Corrupti hic laborum sint aliquid, dolore dolores, saepe molestias facilis delectus velit maxime, magnam distinctio. Ducimus totam magni commodi voluptas aliquam ad tenetur illo repudiandae nobis, dolorem, omnis voluptatum, perferendis!</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo, quos explicabo harum voluptatem! Nesciunt, sint a illo, reiciendis, ut, autem tenetur laudantium blanditiis ducimus libero non pariatur sequi animi. Sequi.</span>
                        <span>Rerum debitis incidunt adipisci quas ea id, eligendi accusantium voluptatum perferendis labore amet, officia. Omnis dolores quas, ipsa distinctio, praesentium nostrum architecto amet quos ratione vel hic, natus mollitia tempore!</span>
                        <span>Ea suscipit mollitia voluptatibus, magnam iusto earum provident tempore voluptates nisi dicta excepturi necessitatibus. Debitis tempore modi, laborum ducimus nemo illo, asperiores magnam obcaecati facere, ex maxime officia iusto labore.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci, molestias, voluptatem? Laboriosam commodi placeat officia repudiandae dolores repellendus suscipit provident dolore eius! Velit magnam optio beatae reprehenderit, repudiandae maxime vel.</span>
                        <span>Autem veniam aut eius voluptate porro, saepe ipsam dignissimos facere deserunt. Totam enim rem praesentium voluptatem, tempore cum, hic consequatur a culpa sed repudiandae laboriosam labore repellat reprehenderit aspernatur harum.</span>
                        <span>Ex, praesentium vel nisi quod, ipsam temporibus optio minima at vero cum, id, inventore illum officia voluptate eaque qui explicabo. Modi, numquam totam hic voluptas dolorem doloremque eveniet aliquam itaque.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque hic deleniti aliquid dolorem, sapiente aperiam consequatur alias, totam, distinctio eaque tempore perspiciatis blanditiis iusto sint reprehenderit modi iure nesciunt? Excepturi!</span>
                        <span>Error quo accusamus perspiciatis. Amet quam illum delectus incidunt rem laudantium, iure alias, consequatur culpa molestias cum dolorum esse maxime ut, rerum odio dolorem nulla assumenda quaerat cumque. Facere, accusamus.</span>
                        <span>Minus quis asperiores voluptatum, placeat iste impedit in praesentium provident. In velit vitae iste amet facere consequatur totam, eos mollitia illum nulla molestiae, ut ipsum impedit tempora repellendus quis nam!</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illum recusandae esse, veritatis velit molestias est non! Unde culpa odio esse dolor, nihil et, libero repudiandae expedita quis, veritatis ipsam eum.</span>
                        <span>Tempora totam cupiditate commodi maxime fuga exercitationem assumenda consequuntur laborum laboriosam minus consequatur unde magni modi, dolore saepe velit provident! Nihil sequi quia praesentium sapiente eius, accusamus dignissimos vitae quaerat.</span>
                        <span>Quaerat, officiis reprehenderit quo assumenda voluptatem tempora voluptas voluptates asperiores deleniti laboriosam aliquam labore incidunt illo dignissimos distinctio, rem animi laudantium, magni hic. Et numquam aut, natus, beatae distinctio explicabo.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores suscipit, tempora laborum, animi, nam tenetur unde dolore molestias est voluptates fuga repellat a quibusdam placeat. Debitis eaque vero dicta ea.</span>
                        <span>Fugit minus recusandae, consequuntur nobis facilis laboriosam dolorem nemo impedit eius soluta, laudantium doloribus nostrum tenetur exercitationem inventore molestias. Quis laboriosam recusandae, facere minus, similique eos accusantium sequi quod neque.</span>
                        <span>Ad ex quaerat quod vitae temporibus blanditiis sapiente, magni earum accusantium laudantium officiis cumque dolore praesentium vel culpa eius expedita, nulla, facilis at doloremque! At, itaque deleniti totam similique cupiditate.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta dolorem ad soluta, consequatur repellat debitis porro ducimus quidem facere repellendus accusamus fuga libero natus quas. Aspernatur quis iste aperiam eos!</span>
                        <span>Molestiae iure recusandae sed ea est, quaerat aliquam doloribus delectus praesentium tempore corporis nobis laboriosam impedit, expedita, quisquam temporibus consequatur nisi saepe nemo rerum velit. Temporibus in accusantium ducimus eum.</span>
                        <span>Culpa in dolor iusto atque natus quis architecto libero delectus vitae, quia sunt perferendis, est impedit, iste, modi animi cum cumque. Esse quisquam, possimus debitis, earum suscipit enim quas illo.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga, quisquam quae quo, quos temporibus vel sit quaerat, aut quod adipisci ex quis. Assumenda hic officiis voluptatem, dolore eius ipsa excepturi!</span>
                        <span>Tenetur, ullam dolorum nihil veritatis sint ad consequatur cum reiciendis? Veniam, repellendus tempora debitis vel esse alias ab quaerat, nihil asperiores nostrum mollitia quisquam, totam harum! Deserunt nihil suscipit, inventore?</span>
                        <span>Fuga nulla nisi asperiores dolorum rerum voluptatum eveniet temporibus, ullam quia, ipsam aut. Ipsam fugiat, ullam earum illum est sint facere culpa incidunt, aliquam eligendi, eos blanditiis optio quia atque.</span>
                    </p>
                    <p>
                        <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique ipsam est placeat alias aliquam, iusto corporis facilis culpa commodi minus officia consequatur, eum porro mollitia maiores ut, necessitatibus blanditiis quod.</span>
                        <span>Ducimus totam architecto, ab, aliquid rem sunt esse. At unde quo, nisi ab laudantium, eius ratione laboriosam blanditiis iure tempore natus itaque! Veritatis repellat necessitatibus iusto, similique voluptatem, non at.</span>
                        <span>Omnis odio, incidunt magnam officiis, libero laborum nesciunt repellat asperiores nulla? Beatae, totam. Consequuntur fugiat corporis sed sint, cum quae hic mollitia animi illum nesciunt maiores voluptates non dicta voluptatem?</span>
                    </p>
                </div>
                <div class="story__footer">
                    <div class="story__statistics">
                        <div class="story__views">12,345 views</div>
                        <div class="story__likes"><i class="fa fa-thumbs-up"></i><span class="likeCount">300</span></div>
                        <div class="story__rating"><span class="story__rating--green"></span><span class="story__rating--red"></span></div>
                        <div class="story__dislikes"><i class="fa fa-thumbs-down"></i><span class="dislikeCount">12</span></div>
                    </div>
                    <hr />
                    <div class="story__chapters">
                        <button><i class="fa fa-angle-double-left"></i> First</button>
                        <button><i class="fa fa-angle-left"></i> Previous</button>
                        <button>Next <i class="fa fa-angle-right"></i></button>
                        <button>Last <i class="fa fa-angle-double-right"></i></button>
                    </div>
                </div>
            </div>
            <div class="comments container">
                <h2>Comments</h2>
                <div class="comment" data-commentid="1">
                    <img class="comment__avatar" src="http://placehold.it/64x64" alt="" />
                    <h3 class="comment__username"><a href="#">ExampleUser</a></h3><i class="fa fa-reply comment__reply"></i>
                    <p class="comment__text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nemo molestiae omnis eos perspiciatis voluptatum dolor doloribus, suscipit cum voluptatibus. Magnam minima, numquam autem vero. Corporis modi, iure architecto quam rerum.</p>
                </div>
                <hr />
                <div class="comment" data-commentid="2">
                    <img class="comment__avatar" src="http://placehold.it/64x64" alt="" />
                    <h3 class="comment__username"><a href="#">AnotherPerson</a></h3><i class="fa fa-reply comment__reply"></i>
                    <p class="comment__text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet cumque minus a, iste aliquid pariatur, aut fuga, corporis perspiciatis neque nisi blanditiis, debitis. Iusto eligendi totam quos, rem fuga voluptates!</p>
                </div>
                <hr />
                <div class="comment__submit">
                    <h2>Submit a comment</h2>
                    <textarea></textarea>
                    <input type="submit" value="Submit" />
                </div>
            </div>

            <script type="text/javascript">

                var likes = parseInt($(".likeCount").html());
                var dislikes = parseInt($(".dislikeCount").html());

                $(".story__rating--green").width(((likes / (likes + dislikes)) * 96) + "px");
                $(".story__rating--red").width(((dislikes / (likes + dislikes)) * 96) + "px");

                $(".story__formatting--fontSize").hide();
                $(".story__formatting--font").hide();

                $(".story__top").click(function() {
                    $("main").animate({
                        scrollTop: 0
                    }, 200);
                });

                $("#fontSizeOption").click(function() {
                    if (!($(".story__formatting--font").css("display") == "none")) {
                        $(".story__formatting--font").animate({'width':'toggle'}, 200, function() {
                            $(".story__formatting--fontSize").animate({'width':'toggle'}, 200);
                        });
                    } else {
                        $(".story__formatting--fontSize").animate({'width':'toggle'}, 200);
                    }
                });

                $("#fontOption").click(function() {
                    if (!($(".story__formatting--fontSize").css("display") == "none")) {
                        $(".story__formatting--fontSize").animate({'width':'toggle'}, 200, function() {
                            $(".story__formatting--font").animate({'width':'toggle'}, 200);
                        });
                    } else {
                        $(".story__formatting--font").animate({'width':'toggle'}, 200);
                    }
                });

                $("#fontSizeOption input").click(function(e) {
                    e.stopPropagation();
                });

                $("#fontOption select").click(function(e) {
                    e.stopPropagation();
                });

                $(".story__formatting--fontSize input[type=range]").on("input", function() {
                    $(".story__formatting--fontSize span").html($(this).val() + "px");
                    $(".story__text p").css("font-size", $(this).val() + "px");
                    $(".story__text h3").css("font-size", (parseInt($(this).val())*2) + "px");
                    $(".story__text").css("line-height", (parseInt($(this).val())*2) + "px");
                });

                $(".story__formatting--font select").on("change", function() {
                    $(".story__text").css("font-family", $(this).val());
                });

                $(".comment__reply").click(function() {
                    $("html, body").animate({
                        scrollTop: $(".comment__submit textarea").offset().top + 48
                    }, 300);
                    var caretPos = $(".comment__submit textarea")[0].selectionStart;
                    var id = $(this).parent().data("commentid");
                    var text = $(".comment__submit textarea").val();
                    $(".comment__submit textarea").val(text.substring(0, caretPos) + ">>" + id + " " + text.substring(caretPos));
                    $(".comment__submit textarea").focus();
                });

                $("main").scroll(function() {
                    if ($(this).scrollTop() >= ($(".story__text").offset().top + 52)
                        && !$(".story__controls").hasClass("story__controls--fixed")) {
                        $(".story__controls").addClass("story__controls--fixed");
                        $(".story__controls--placeholder").show();
                    } else if ($(this).scrollTop() < ($(".story__text").offset().top + 52)
                        && $(".story__controls").hasClass("story__controls--fixed")) {
                        $(".story__controls").removeClass("story__controls--fixed");
                        $(".story__controls--placeholder").hide();
                    }
                });
            </script>

<?php
    require_once("include/footer.php");
?>
